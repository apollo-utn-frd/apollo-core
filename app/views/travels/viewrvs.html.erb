<div class="row">
    <div class="col-md-8 p-2">
        <%= image_tag @travel.image_public_url, class: 'w-100' %>

        <h3 class="my-2"><%= @travel.title %></h3>
        <p>
            Por <%= link_to user_path(@travel.user_id) do %>
                @<%= @travel.user.username %>
            <% end %>

            <span class="date"> hace <%= time_ago_in_words @travel.created_at %></span>
        </p>

        <p><%= @travel.description %></p>

      <div class="d-flex flex-row-reverse travel-buttons">
        <% comment_class = 'active' if current_user&.comment?(@travel) %>

        <button type="button" class="btn btn-comment btn-link no-decoration <%= comment_class %>">
          <i class="far fa-fw fa-comment"></i>
          <i class="fas fa-fw fa-comment"></i>
          <%= @travel.comments.count %>
        </button>

        <% favorite_class = 'active' if current_user&.favorite?(@travel) %>

        <button type="button" class="btn btn-favorite btn-link no-decoration <%= favorite_class %>">
          <i class="far fa-fw fa-star"></i>
          <i class="fas fa-fw fa-star"></i>
          <%= @travel.favorites.count %>
        </button>
      </div>

        <% @travel.comments.each do |comment| %>
            <%= render partial: "travels/partials/comment",
                    locals: {
                        comment:comment
                    }
            %>
        <% end %>

        <%= form_for :comment, url: travel_comments_path(travel_id: @travel.id) do |f|%>
            <div class="form-group">
                <textarea class="form-control" name="content" rows="3" maxlength="300" placeholder="Agrear comentario..."></textarea>
            </div>
            <%= f.submit "Comentar", class:"btn btn-secondary" %>
        <% end %>

    </div>

    <div class="col-md-4 p-2">
        <% @travel.places.each_with_index do |place, index| %>
            <%= render partial: "travels/partials/place",
                    locals: {
                        place:place,
                        index:index
                    }
            %>
        <% end %>
    </div>

</div>
